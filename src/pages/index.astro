---
import Layout from '../layouts/Vanilla.astro';
import { Header } from '../components/Header'
import { Hero } from '../components/Hero'
import { Newsletter } from '../components/Newsletter'
import { Schedule } from '../components/Schedule'
import { Speakers } from '../components/Speakers.tsx'
import { Sponsors } from '../components/Sponsors'

const allSpeakers = await Astro.glob('./speakers/*.md');
const speakers: any[] = allSpeakers.map(speaker => ({
  ...speaker.frontmatter,
  url: speaker.url
}))

const allSponsors = await Astro.glob('./sponsors/*.md');
const sponsors: any[] = allSponsors.map(sponsor => ({
  ...sponsor.frontmatter,
  url: sponsor.url
}))

---

<Layout>
  <Header />
  <main class="flex-auto">
    <Hero />
    <Speakers speakers={speakers} />
    <Schedule />
    <Sponsors sponsors={sponsors} />
    <Newsletter />
  </main>
</Layout>
